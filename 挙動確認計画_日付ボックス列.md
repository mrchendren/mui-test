# 挙動確認計画：DataGrid日付ボックス列

## 確認対象
DataGridテスト画面の日付列における、カレンダー選択後の手入力編集とフォーカスアウト時の値反映

## 確認手順

### 1. テスト画面への移動
- ブラウザで `http://localhost:5173` にアクセス
- ラジオボタンで「DataGrid」を選択
- DataGridが表示されることを確認

### 2. カレンダーで日付を選択
- 日付列の任意のセルをダブルクリックして編集モードに入る
- カレンダーアイコンボタンをクリック
- カレンダーから日付を選択
- 編集モードが終了し、選択した日付が元号形式で表示されることを確認

### 3. 再度編集モードに入る
- 同じセルを再度ダブルクリックして編集モードに入る
- 入力欄にyyMMdd形式（6桁）で日付が表示されることを確認

### 4. 元号部分を1年ずらす
- 入力欄をクリックしてフォーカスを当てる
- 元号部分（先頭2桁）を1年ずらす
  - 例：`050125` → `060125`（令和5年1月25日 → 令和6年1月25日）
- エンターキーまたはTABキーでフォーカスアウト

### 5. 値の反映確認
- フォーカスアウト直後のセルの値を確認
- 期待される結果：
  - セルに変更後の日付が元号形式で正しく表示される
  - 例：`令和06年01月25日` のように表示される

## 確認ポイント
- カレンダー選択後、編集モードが正しく終了するか
- 再度編集モードに入ったとき、yyMMdd形式で正しく表示されるか
- 手入力で元号部分を変更した後、フォーカスアウト時に値が正しく反映されるか
- セルに変更後の日付が元号形式で正しく表示されるか

## 問題が発生した場合の確認事項
- フォーカスアウト時に値が反映されない場合：
  - `handleBlur`で`setValue(parsed)`が正しく呼ばれているか
  - `onRowChange`で`row.date`が正しく更新されているか
  - `displayValue`の計算が正しいか（非フォーカス時は`formatEra(value)`を使用）
